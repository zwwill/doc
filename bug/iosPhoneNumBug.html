<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<script type="text/javascript" src="https://id.163.com/gj/pub/javascript/lib/jquery-1.7.2.min.js"></script>
<style>
	*{
		padding: 0;
		font-size: 16px;
	}
	#inp{
		display: block;
		width: 100%;
		border: solid 1px #999;
		height: 40px;
	}
	#btn{
		width: 100%;
		height: 40px;
		background: #333;
		color:#fff;
		margin-top: 20px; 
	}
	#info{
		margin-top: 20px;
		word-break: break-all;
	}
</style>

<body>
	<p>IOS 11 系统下，将通讯录手机号打回原形</p>
	<input id="inp" type="text" placeholder="从原生通讯录复制手机号">
	<button id="btn">照妖镜</button>
	<div id="info"></div>
	<script>	
		$("#btn").click(function(){
			var val = $("#inp").val(),
				len = val.length,
				out = '',
			    	u = '';
			u = val.replace(/./g,function(e){
				var c = e.charCodeAt(0).toString(16);
				return ' \\u0000'.match(new RegExp("(\.*)\\d{"+c.length+"}"))[1]+c;
			})
			out = `
				value: ${val}<br>
				length: ${len}<br>
				encodeURI: ${encodeURI(val)}<br>
				unicode: ${u}
				`;
			$('#info').html(out);
		})
	</script>
</body>
</html>
