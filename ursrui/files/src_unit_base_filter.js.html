<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>src/unit/base/filter.js - URS RUI</title>
  
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-smart" _assetsPath="../assets">
 <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
               <a class="navbar-brand mainlogo" href="/urs-rui/doc/">
             
            <img alt="URS RUI" src="../assets/img/logo.png" title="URS RUI">
            
          </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                 <ul class="nav navbar-nav">
                    
                    <li><a href="/urs-rui/doc/ui-standard/index.html">URS UI规范</a>
                    </li>
                    
                    <li><a href="https://g.hz.netease.com/urs-front/urs-rui">GitLab</a>
                    </li>
                    
                    <li><a href="http://npm.hz.netease.com/package/@netease/urs-rui">NPM</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>
    <div id="sidebar">
    <h3>元件 / 模块</h3>
        <div id="api-tabview-filter">
            <input id='txtSearch' type="search" class="form-control" placeholder="Type to Filter Components">
        </div>
        <dl id="sidebar_list">
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <p>Module</p>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/H5MbInput.html">H5MbInput</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/H5Tab.html">H5Tab</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/bMbInput.html">bMbInput</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/PwdInput.html">PwdInput</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/SmsInput[待整理].html">SmsInput[待整理]</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <p>Sass</p>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/bCommon.scss.html">bCommon.scss</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/_config.scss.html">_config.scss</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-minus"></span>
                    <p>Unit</p>
                </dt>
                <dd>
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/Alert.html">Alert</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Button.html">Button</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Captcha.html">Captcha</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Gotop.html">Gotop</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/bInput.html">bInput</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Loading.html">Loading</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Menu.html">Menu</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Pager.html">Pager</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Quest.html">Quest</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/SelectInput.html">SelectInput</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Slide.html">Slide</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Tab.html">Tab</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Toast.html">Toast</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
        </dl>
</div>
   
    <div class="stdoc-content">
        <div class="apidocs">
            <div id="docs-main">
                <div class="content">
                    <div class="page-header">
    <h1>src/unit/base/filter.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums" id='src_code'>
var lower = function(value){
    value = value || &#x27;&#x27;;
    return value.toLowerCase();
};
/**
 * @method  dateFormat(date, format) 日期格式化
 * @public
 * @param  {Date|number} date 需要格式化的值
 * @param  {string} format 格式。默认为&#x60;yyyy.MM.dd&#x60;。
 * @return {Directive} 返回生成的字符串
 */
var dateFormat = (() =&gt; {   
    const _padZero = function(_value){
        _value = _value || &#x27;&#x27;;
        return _value.length &lt; 2 ? &#x27;0&#x27;+_value : _value;
    };
    const MAPS = {
        yyyy: (date) =&gt; date.getFullYear(),
        MM: (date) =&gt; _padZero(String(date.getMonth() + 1)),
        dd: (date) =&gt; _padZero(String(date.getDate())),
        HH: (date) =&gt; _padZero(String(date.getHours())),
        mm: (date) =&gt; _padZero(String(date.getMinutes())),
        ss: (date) =&gt; _padZero(String(date.getSeconds())),
    };

    const trunk = new RegExp(Object.keys(MAPS).join(&#x27;|&#x27;), &#x27;g&#x27;);

    return function (value, format = &#x27;yyyy.MM.dd&#x27;) {
        if (!value)
            return &#x27;&#x27;;
        value = parseInt(value);
        value = new Date(value);

        return format.replace(trunk, (capture) =&gt; MAPS[capture](value));
    };
})();

var objectFormat = (() =&gt; {
    return function (object, format = &#x27;key&#x27;) {
        if(!object){
            return;
        }
        if (format == &#x27;key&#x27;){
            for (var p1 in object) {
                if (object.hasOwnProperty(p1))
                    return p1;
            }
        }else{
            for (var p1 in object) {
                if (object.hasOwnProperty(p1))
                    return object[p1];
            }
        }
    }
})();
/**
 * 限时时间格式化
 */
var expireFormat = (()=&gt;{
    // dd 天 hh 小时 mm分 ss秒
    return function(value, format = &#x27;dd.hh.mm.ss&#x27;){
        if(!value || value&lt;0)
            return 0;
        value = parseInt(value); // 倒计时时间戳，单位为毫秒
        value = parseInt(value/1000); // 转化为秒处理

        var _dd = parseInt(value / 86400),
            _hh = parseInt(value % 86400 / 3600),
            _mm = parseInt(value % 86400 % 3600 / 60),
            _ss = parseInt(value % 86400 % 3600 % 60);

        
        // 精确到天，不足一天显示一天
        if(format == &#x27;dd&#x27;){
            _dd = _dd ? _dd : 1;
            return _dd + &quot;天&quot;;
        }

        // 精确到小时，不足一小时显示一小时
        if(format == &#x27;dd.hh&#x27;){
            _hh = _hh ? _hh : 1;
            return _dd + &quot;天&quot; + _hh + &quot;小时&quot;;
        }

        // 精确到分钟, 不足一分钟显示一分钟
        if(format == &#x27;dd.hh.mm&#x27;){
            _mm = _mm ? _mm : 1 ;
            return _dd + &quot;天&quot; + _hh + &quot;小时&quot; + _mm +&quot;分&quot;;
        }

        // 精确到秒,不足一秒显示一秒
        if(format == &#x27;dd.hh.mm.ss&#x27;){
            _ss = _ss ? _ss : 1;
            return _dd + &quot;天&quot; + _hh + &quot;小时&quot; + _mm +&quot;分&quot; + _ss+&quot;秒&quot;;
        }
        return null;
    }
})();

/**
 * nos图片url格式化
 */
var thumbnailImg = function(url, width, height, quality){
    var _url = url || &#x27;&#x27;,
        _w = width || 0,
        _h = height || 0,
        _q = quality || 85;
    if(!_url) return &quot;&quot;;
    if(/imageView/.test(_url)){
        // 直接拼接参数
        return _url + &#x27;&amp;interlace=1&amp;thumbnail=&#x27;+_w+&#x27;x&#x27;+_h + &#x27;&amp;quality=&#x27;+_q;   
    }else{
        if(/\?/.test(_url)){
            return _url + &#x27;&amp;imageView&amp;interlace=1&amp;thumbnail=&#x27;+_w+&#x27;x&#x27;+_h + &#x27;&amp;quality=&#x27;+_q;
        }else{
            return _url + &#x27;?imageView&amp;interlace=1&amp;thumbnail=&#x27;+_w+&#x27;x&#x27;+_h + &#x27;&amp;quality=&#x27;+_q;
        }
    }
}

module.exports = {
    lower: lower,
    dateFormat: dateFormat,
    objectFormat:objectFormat,
    expireFormat:expireFormat,
    thumbnailImg:thumbnailImg
}

    </pre>
</div>

                </div>
            </div>
        </div>
    </div>
<a id="gotoTop" class='well well-small' href='#'>
    Top
</a>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/config.js"></script>
<script src="../assets/js/doc.js"></script>
</body>
</html>
